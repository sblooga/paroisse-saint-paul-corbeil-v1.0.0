generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(uuid())
  email         String   @unique
  passwordHash  String
  role          Role     @default(EDITOR)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

enum Role {
  ADMIN
  EDITOR
}

model Article {
  id         String   @id @default(uuid())
  title_fr   String
  title_pl   String?
  slug       String   @unique
  content_fr String?
  content_pl String?
  excerpt_fr String?
  excerpt_pl String?
  imageUrl   String?
  category   String?
  published  Boolean  @default(false)
  featured   Boolean  @default(false)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model TeamMember {
  id        String   @id @default(uuid())
  name       String
  role_fr    String
  role_pl    String?
  photoUrl   String?
  email      String?
  whatsapp   String?
  category   String
  order      Int      @default(0)
  active     Boolean  @default(true)
  community  String?  @default("fr")
  bio_fr     String?
  bio_pl     String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model MassSchedule {
  id          String   @id @default(uuid())
  day_code    String   @default("dimanche") // code syst√®me (lundi, mardi, etc.)
  day_fr      String?
  day_pl      String?
  time        String
  location    String?
  location_fr String?
  location_pl String?
  description String?
  description_fr String?
  description_pl String?
  is_special  Boolean  @default(false)
  special_date DateTime?
  language    String?  @default("fr")
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model ContactMessage {
  id        String   @id @default(uuid())
  name      String
  email     String
  subject   String?
  message   String
  read      Boolean  @default(false)
  createdAt DateTime @default(now())
}

model NewsletterSubscriber {
  id        String   @id @default(uuid())
  email     String   @unique
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SiteSettings {
  id        String   @id @default("main")
  key       String   @unique
  value     String
  updatedAt DateTime @updatedAt
}

model Homily {
  id                   String   @id @default(uuid())
  slug                 String   @unique
  title                String
  cloudinaryPublicId   String
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
}

model Page {
  id                  String   @id @default(uuid())
  slug                String   @unique
  title_fr            String
  title_pl            String?
  content_fr          String?
  content_pl          String?
  meta_title_fr       String?
  meta_title_pl       String?
  meta_description_fr String?
  meta_description_pl String?
  published           Boolean  @default(true)
  createdAt           DateTime @default(now())
  updatedAt           DateTime @updatedAt
}

model FaqCategory {
  id        String   @id @default(uuid())
  name      String
  sort_order Int     @default(0)
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  items     FaqItem[]
}

model FaqItem {
  id          String   @id @default(uuid())
  question_fr String
  question_pl String?
  answer_fr   String?
  answer_pl   String?
  categoryId  String
  sort_order  Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  category FaqCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
}

model FooterLink {
  id           String   @id @default(uuid())
  label        String
  label_fr     String?
  label_pl     String?
  url          String
  sortOrder    Int      @default(0)
  active       Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model LifeStage {
  id               String   @id @default(uuid())
  title_fr         String
  title_pl         String?
  description_fr   String
  description_pl   String?
  icon             String?
  imageUrl         String?
  sortOrder        Int      @default(0)
  active           Boolean  @default(true)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}
